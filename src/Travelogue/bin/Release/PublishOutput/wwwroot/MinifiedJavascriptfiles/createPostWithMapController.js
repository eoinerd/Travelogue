!function(){"use strict";function t(t,o,a){var n=this,r=document.getElementById("name");new google.maps.places.Autocomplete(r);n.stopForCreatePost=[],n.tripName=t.tripName,n.stopName=t.stopName,document.getElementById("hdnTrip").value=t.tripName,document.getElementById("hdnStop").value=t.stopName;var p="/api/stop/"+n.tripName+"/"+n.stopName;o.get(p).then(function(t){angular.copy(t.data,n.stopForCreatePost),e(n.stopForCreatePost)},function(t){n.errorMessage="failied to load stops"}).finally(function(){n.isBusy=!1})}function e(t){if(t&&t.length>0){var e=_.map(t,function(t){return{lat:t.latitude,long:t.longitude,info:t.name}});travelMap.createMap({stops:e,selector:"#map",currentStop:1,initialZoom:3})}}angular.module("app-trips").controller("createPostWithMapController",t)}();